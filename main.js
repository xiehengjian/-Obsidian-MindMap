const _0xd6f108=_0x1524;(function(_0x3817b6,_0x51925d){const _0x442a41=_0x1524,_0x4723fb=_0x3817b6();while(!![]){try{const _0x5b9e48=-parseInt(_0x442a41(0xbd))/0x1*(-parseInt(_0x442a41(0xa5))/0x2)+-parseInt(_0x442a41(0x114))/0x3+parseInt(_0x442a41(0xfb))/0x4+parseInt(_0x442a41(0xdb))/0x5+parseInt(_0x442a41(0xf4))/0x6*(parseInt(_0x442a41(0xea))/0x7)+parseInt(_0x442a41(0xe2))/0x8+-parseInt(_0x442a41(0xaf))/0x9;if(_0x5b9e48===_0x51925d)break;else _0x4723fb['push'](_0x4723fb['shift']());}catch(_0x42d3b7){_0x4723fb['push'](_0x4723fb['shift']());}}}(_0x4697,0xab02b));var __defProp=Object[_0xd6f108(0x8b)],__getOwnPropDesc=Object[_0xd6f108(0xcb)],__getOwnPropNames=Object['getOwnPropertyNames'],__hasOwnProp=Object[_0xd6f108(0xb4)][_0xd6f108(0x102)],__export=(_0x3babf0,_0x36f6f1)=>{for(var _0x58b1a8 in _0x36f6f1)__defProp(_0x3babf0,_0x58b1a8,{'get':_0x36f6f1[_0x58b1a8],'enumerable':!![]});},__copyProps=(_0x297f43,_0x2aafa4,_0x1af377,_0x5dc096)=>{const _0x46b763=_0xd6f108;if(_0x2aafa4&&typeof _0x2aafa4===_0x46b763(0x93)||typeof _0x2aafa4===_0x46b763(0x105)){for(let _0x3745b0 of __getOwnPropNames(_0x2aafa4))if(!__hasOwnProp['call'](_0x297f43,_0x3745b0)&&_0x3745b0!==_0x1af377)__defProp(_0x297f43,_0x3745b0,{'get':()=>_0x2aafa4[_0x3745b0],'enumerable':!(_0x5dc096=__getOwnPropDesc(_0x2aafa4,_0x3745b0))||_0x5dc096['enumerable']});}return _0x297f43;},__toCommonJS=_0x48cd53=>__copyProps(__defProp({},_0xd6f108(0xe3),{'value':!![]}),_0x48cd53),main_exports={};function _0x1524(_0x208a63,_0x59bbdd){const _0x46976d=_0x4697();return _0x1524=function(_0x1524a9,_0x34bd8){_0x1524a9=_0x1524a9-0x78;let _0x3673aa=_0x46976d[_0x1524a9];return _0x3673aa;},_0x1524(_0x208a63,_0x59bbdd);}__export(main_exports,{'default':()=>CanvasMindMap}),module[_0xd6f108(0xa9)]=__toCommonJS(main_exports);var import_obsidian3=require('obsidian');function around(_0x3a1381,_0x596ca1){const _0x1c5b60=_0xd6f108,_0x2000d3=Object[_0x1c5b60(0xb9)](_0x596ca1)[_0x1c5b60(0x8f)](_0x52c4ac=>around1(_0x3a1381,_0x52c4ac,_0x596ca1[_0x52c4ac]));return _0x2000d3[_0x1c5b60(0x89)]===0x1?_0x2000d3[0x0]:function(){const _0xe1971b=_0x1c5b60;_0x2000d3[_0xe1971b(0x95)](_0x4bce6b=>_0x4bce6b());};}function around1(_0x4f5d25,_0x389204,_0xc7e7b0){const _0x5392e8=_0xd6f108,_0x10fca1=_0x4f5d25[_0x389204],_0x5ef3cb=_0x4f5d25[_0x5392e8(0x102)](_0x389204);let _0x3b96bc=_0xc7e7b0(_0x10fca1);if(_0x10fca1)Object[_0x5392e8(0x9a)](_0x3b96bc,_0x10fca1);Object['setPrototypeOf'](_0x14b9a5,_0x3b96bc),_0x4f5d25[_0x389204]=_0x14b9a5;return _0x106021;function _0x14b9a5(..._0x3fc6bc){const _0x400c0d=_0x5392e8;if(_0x3b96bc===_0x10fca1&&_0x4f5d25[_0x389204]===_0x14b9a5)_0x106021();return _0x3b96bc[_0x400c0d(0xd6)](this,_0x3fc6bc);}function _0x106021(){const _0x79f0bf=_0x5392e8;if(_0x4f5d25[_0x389204]===_0x14b9a5){if(_0x5ef3cb)_0x4f5d25[_0x389204]=_0x10fca1;else delete _0x4f5d25[_0x389204];}if(_0x3b96bc===_0x10fca1)return;_0x3b96bc=_0x10fca1,Object[_0x79f0bf(0x9a)](_0x14b9a5,_0x10fca1||Function);}}function _0x4697(){const _0x4819ae=['Delete','Backspace','addEventListener','max','prototype','onPaneMenu','from','first','reduce','keys','push','obsidian','Create\x20sibling\x20node','45824HxcPuU','onPointerdown','patchCanvas','file-open','添加子节点','entries','Mod','getContainingNodes','<svg\x20t=\x221686479130635\x22\x20class=\x22icon\x22\x20viewBox=\x220\x200\x201024\x201024\x22\x20version=\x221.1\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20p-id=\x223206\x22\x20width=\x2216\x22\x20height=\x2216\x22><path\x20d=\x22M384\x20704c17.066667\x200\x2032-14.933333\x2032-32v-128h128c17.066667\x200\x2032-14.933333\x2032-32s-14.933333-32-32-32h-128v-128c0-17.066667-14.933333-32-32-32s-32\x2014.933333-32\x2032v128h-128c-17.066667\x200-32\x2014.933333-32\x2032s14.933333\x2032\x2032\x2032h128v128c0\x2017.066667\x2014.933333\x2032\x2032\x2032z\x22\x20fill=\x22#bfbfbf\x22\x20p-id=\x223207\x22></path><path\x20d=\x22M938.666667\x2053.333333H682.666667c-17.066667\x200-32\x2014.933333-32\x2032v106.666667h-554.666667C78.933333\x20192\x2064\x20206.933333\x2064\x20224v576c0\x2017.066667\x2014.933333\x2032\x2032\x2032H640v96c0\x2017.066667\x2014.933333\x2032\x2032\x2032h256c17.066667\x200\x2032-14.933333\x2032-32v-256c0-17.066667-14.933333-32-32-32h-256c-17.066667\x200-32\x2014.933333-32\x2032V768H128V256h522.666667v85.333333c0\x2017.066667\x2014.933333\x2032\x2032\x2032h256c17.066667\x200\x2032-14.933333\x2032-32V85.333333c0-17.066667-14.933333-32-32-32z\x20m-32\x20256h-192v-192h192v192z\x22\x20fill=\x22#bfbfbf\x22\x20p-id=\x223208\x22></path></svg>','创建兄弟节点失败','containingNodes','registerEvent','groupNode','click','getOwnPropertyDescriptor','offref','get\x20right\x20node','nodes','topChild','<svg\x20t=\x221686470194456\x22\x20class=\x22icon\x22\x20viewBox=\x220\x200\x201024\x201024\x22\x20version=\x221.1\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20p-id=\x221122\x22\x20width=\x2216\x22\x20height=\x2216\x22><path\x20d=\x22M928\x20640h-256c-17.066667\x200-32\x2014.933333-32\x2032V768H288V416h128c17.066667\x200\x2032-14.933333\x2032-32V128c0-17.066667-14.933333-32-32-32h-320C78.933333\x2096\x2064\x20110.933333\x2064\x20128v256c0\x2017.066667\x2014.933333\x2032\x2032\x2032h128v384c0\x2017.066667\x2014.933333\x2032\x2032\x2032h384v96c0\x2017.066667\x2014.933333\x2032\x2032\x2032h256c17.066667\x200\x2032-14.933333\x2032-32v-256c0-17.066667-14.933333-32-32-32zM128\x20160h256v192H128v-192z\x22\x20fill=\x22#212121\x22\x20p-id=\x221123\x22></path><path\x20d=\x22M608\x20320h128v128c0\x2017.066667\x2014.933333\x2032\x2032\x2032s32-14.933333\x2032-32v-128h128c17.066667\x200\x2032-14.933333\x2032-32s-14.933333-32-32-32h-128V128c0-17.066667-14.933333-32-32-32s-32\x2014.933333-32\x2032v128h-128c-17.066667\x200-32\x2014.933333-32\x2032s14.933333\x2032\x2032\x2032z\x22\x20fill=\x22#212121\x22\x20p-id=\x221124\x22></path></svg>','onDoubleClick','random','layout-change','call','ArrowRight','apply','getTheme','getEdgesForNode','key','canvas','4896095MwlAhF','createTextNode','deselectAll','bottom','<svg\x20t=\x221686479002541\x22\x20class=\x22icon\x22\x20viewBox=\x220\x200\x201024\x201024\x22\x20version=\x221.1\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20p-id=\x222832\x22\x20width=\x2216\x22\x20height=\x2216\x22><path\x20d=\x22M928\x20640h-256c-17.066667\x200-32\x2014.933333-32\x2032V768H288V416h128c17.066667\x200\x2032-14.933333\x2032-32V128c0-17.066667-14.933333-32-32-32h-320C78.933333\x2096\x2064\x20110.933333\x2064\x20128v256c0\x2017.066667\x2014.933333\x2032\x2032\x2032h128v384c0\x2017.066667\x2014.933333\x2032\x2032\x2032h384v96c0\x2017.066667\x2014.933333\x2032\x2032\x2032h256c17.066667\x200\x2032-14.933333\x2032-32v-256c0-17.066667-14.933333-32-32-32zM128\x20160h256v192H128v-192z\x22\x20fill=\x22#bfbfbf\x22\x20p-id=\x222833\x22></path><path\x20d=\x22M608\x20320h128v128c0\x2017.066667\x2014.933333\x2032\x2032\x2032s32-14.933333\x2032-32v-128h128c17.066667\x200\x2032-14.933333\x2032-32s-14.933333-32-32-32h-128V128c0-17.066667-14.933333-32-32-32s-32\x2014.933333-32\x2032v128h-128c-17.066667\x200-32\x2014.933333-32\x2032s14.933333\x2032\x2032\x2032z\x22\x20fill=\x22#bfbfbf\x22\x20p-id=\x222834\x22></path></svg>','onload','getData','5886976tDeAcZ','__esModule','sort','querySelector','width','cachedRead','join','size','28jvWwKr','data-tooltip-position','group','当前未选择节点','patchCanvasNode','side','setData','toString','right','.canvas-menu','718854mAmbGv','top','view','get\x20bottom\x20node','height','onclose','rebuildView','3129816ePlJCU','ArrowLeft','get','wrapperEl','1.1.9','app','createSiblingNode','hasOwnProperty','left','requireApiVersion','function','startEditing','next','leftChild','onSelectionContextMenu','node','onOpen','selection','Obsidian-Canvas-MindMap:\x20markdown\x20file\x20info\x20patched','text','addNode','className','onContextMenu','Tab','createChildNode','38979UAHfrT','Alt','scope','onWheel','moveTo','constructor','onLayoutReady','parse','workspace','filter','aria-label','<svg\x20t=\x221686470696759\x22\x20class=\x22icon\x22\x20viewBox=\x220\x200\x201024\x201024\x22\x20version=\x221.1\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20p-id=\x221547\x22\x20width=\x2216\x22\x20height=\x2216\x22><path\x20d=\x22M384\x20704c17.066667\x200\x2032-14.933333\x2032-32v-128h128c17.066667\x200\x2032-14.933333\x2032-32s-14.933333-32-32-32h-128v-128c0-17.066667-14.933333-32-32-32s-32\x2014.933333-32\x2032v128h-128c-17.066667\x200-32\x2014.933333-32\x2032s14.933333\x2032\x2032\x2032h128v128c0\x2017.066667\x2014.933333\x2032\x2032\x2032z\x22\x20fill=\x22#212121\x22\x20p-id=\x221548\x22></path><path\x20d=\x22M938.666667\x2053.333333H682.666667c-17.066667\x200-32\x2014.933333-32\x2032v106.666667h-554.666667C78.933333\x20192\x2064\x20206.933333\x2064\x20224v576c0\x2017.066667\x2014.933333\x2032\x2032\x2032H640v96c0\x2017.066667\x2014.933333\x2032\x2032\x2032h256c17.066667\x200\x2032-14.933333\x2032-32v-256c0-17.066667-14.933333-32-32-32h-256c-17.066667\x200-32\x2014.933333-32\x2032V768H128V256h522.666667v85.333333c0\x2017.066667\x2014.933333\x2032\x2032\x2032h256c17.066667\x200\x2032-14.933333\x2032-32V85.333333c0-17.066667-14.933333-32-32-32z\x20m-32\x20256h-192v-192h192v192z\x22\x20fill=\x22#212121\x22\x20p-id=\x221549\x22></path></svg>','button[aria-label=\x22','edges','moment','rightChild','appendChild','zoomToSelection','length','log','defineProperty','当前节点正在编辑','getLeavesOfType','bottomChild','map','node\x20is\x20editing','onTouchdown','setAttribute','object','getBBox','forEach','setIsEditing','createElement','Create\x20child\x20node','ArrowDown','setPrototypeOf','Plugin','importData','moonstone','Enter','selectOnly','addEdge','requestFrame','1.1.10','register','isEditing','40Iwharo','locale','innerHTML','selection\x20size\x20is\x20not\x20one','exports','render','OnResize','value','requestSave','clickable-icon','28618281cSVdis'];_0x4697=function(){return _0x4819ae;};return _0x4697();}var import_obsidian=require(_0xd6f108(0xbb)),random=_0x40fc49=>{const _0x40e80a=_0xd6f108;let _0x439ba0=[];for(let _0x48a1ee=0x0;_0x48a1ee<_0x40fc49;_0x48a1ee++){_0x439ba0[_0x40e80a(0xba)]((0x10*Math[_0x40e80a(0xd2)]()|0x0)[_0x40e80a(0xf1)](0x10));}return _0x439ba0[_0x40e80a(0xe8)]('');},addEdge=(_0x256988,_0x1ada9d,_0x1a382e,_0x4d6997)=>{const _0x549c68=_0xd6f108;if(!_0x256988)return;const _0xd1e713=_0x256988[_0x549c68(0xe1)]();if(!_0xd1e713)return;_0x256988[_0x549c68(0x9c)]({'edges':[..._0xd1e713[_0x549c68(0x84)],{'id':_0x1ada9d,'fromNode':_0x1a382e[_0x549c68(0x10a)]['id'],'fromSide':_0x1a382e[_0x549c68(0xef)],'toNode':_0x4d6997[_0x549c68(0x10a)]['id'],'toSide':_0x4d6997[_0x549c68(0xef)]}],'nodes':_0xd1e713[_0x549c68(0xce)]}),_0x256988[_0x549c68(0xa1)]();},adjustTreeY=(_0x3ae433,_0x54301c)=>{const _0x46c893=getNodeHeight(_0x3ae433,_0x54301c),_0x49293f=_0x3ae433['y']+_0x3ae433['height']/0x2-_0x46c893/0x2,_0x3fe512=getGroups(_0x54301c);adjustNodeY(_0x3ae433,_0x54301c,_0x49293f),adjustGroups(_0x3fe512);},getNodeHeight=(_0x7720a1,_0x151856)=>{const _0x16fa20=_0xd6f108,_0x41608d=getChildNodes(_0x7720a1,_0x151856);if(_0x41608d[_0x16fa20(0x89)]===0x0)return _0x7720a1[_0x16fa20(0xf8)];const _0x486bdc=_0x41608d['map'](_0x22f00c=>{return getNodeHeight(_0x22f00c,_0x151856);}),_0x3f288b=_0x486bdc[_0x16fa20(0x89)],_0x341a38=_0x486bdc[_0x16fa20(0xb8)]((_0x437350,_0x54ab38)=>_0x437350+_0x54ab38,0x0),_0x5b5036=_0x3f288b>0x1?_0x3f288b-0x1:0x0;return Math[_0x16fa20(0xb3)](_0x341a38+_0x5b5036*0x14,_0x7720a1[_0x16fa20(0xf8)]);},adjustNodeY=async(_0x2be76c,_0xf2982b,_0x50aecf)=>{const _0x118805=_0xd6f108,_0x5934ff=getChildNodes(_0x2be76c,_0xf2982b);if(_0x5934ff[_0x118805(0x89)]===0x0)return;let _0xdbb64c=_0x50aecf;for(let _0x4d755d=0x0;_0x4d755d<_0x5934ff[_0x118805(0x89)];_0x4d755d++){const _0x3e84df=_0x5934ff[_0x4d755d],_0x678d3a=getNodeHeight(_0x3e84df,_0xf2982b),_0x3fdfe3=_0xdbb64c+_0x678d3a/0x2;_0x3e84df['x']=_0x2be76c['x']+_0x2be76c[_0x118805(0xe6)]+0xc8,_0x3e84df['y']=_0x3fdfe3-_0x3e84df['height']/0x2,_0x3e84df['moveTo']({'x':_0x3e84df['x'],'y':_0x3e84df['y']});const _0x5a43e4=_0x3fdfe3-getSubNodeHeight(_0x3e84df,_0xf2982b)/0x2;adjustNodeY(_0x3e84df,_0xf2982b,_0x5a43e4),_0xdbb64c+=_0x678d3a+0x14;}},getSubNodeHeight=(_0x5c89ed,_0x198793)=>{const _0xe81470=_0xd6f108,_0x4a26bc=getChildNodes(_0x5c89ed,_0x198793);if(_0x4a26bc[_0xe81470(0x89)]===0x0)return _0x5c89ed[_0xe81470(0xf8)];const _0x176632=_0x4a26bc[_0xe81470(0x8f)](_0x3522e0=>{return getNodeHeight(_0x3522e0,_0x198793);}),_0x4dbc42=_0x176632['length'],_0x3a9602=_0x176632[_0xe81470(0xb8)]((_0x125631,_0x312e2e)=>_0x125631+_0x312e2e,0x0),_0x2c34c1=_0x4dbc42>0x1?_0x4dbc42-0x1:0x0;return _0x3a9602+_0x2c34c1*0x14;},getChildNodes=(_0x542735,_0x1ad251)=>{const _0x2af441=_0xd6f108;let _0x1dd71d=_0x1ad251[_0x2af441(0xd8)](_0x542735)['filter'](_0x5e0fed=>{const _0x569f74=_0x2af441;return _0x5e0fed[_0x569f74(0xb6)][_0x569f74(0x10a)]['id']===_0x542735['id']&&_0x5e0fed['to'][_0x569f74(0xef)]===_0x569f74(0x103);}),_0x52daa1=[];for(let _0x2e4ee2=0x0;_0x2e4ee2<_0x1dd71d[_0x2af441(0x89)];_0x2e4ee2++){let _0x38921e=_0x1dd71d[_0x2e4ee2]['to'][_0x2af441(0x10a)];_0x52daa1[_0x2af441(0xba)](_0x38921e);}return _0x52daa1['length']>0x1&&_0x52daa1[_0x2af441(0xe4)]((_0x25c8ea,_0x18be05)=>{return _0x25c8ea['y']-_0x18be05['y'];}),_0x52daa1;},adjustGroups=_0x5251fb=>{const _0x2c02d3=_0xd6f108;var _0x4577f7;const _0x550f88=(_0x4577f7=app[_0x2c02d3(0x7f)][_0x2c02d3(0x8d)](_0x2c02d3(0xda))[_0x2c02d3(0xb7)]())==null?void 0x0:_0x4577f7[_0x2c02d3(0xf6)],_0xd59a2f=_0x550f88==null?void 0x0:_0x550f88[_0x2c02d3(0xda)];if(!_0x550f88)return![];_0x5251fb[_0x2c02d3(0x95)](_0x3e3608=>{const _0x2b50da=_0x2c02d3;_0xd59a2f['nodes'][_0x2b50da(0x95)](_0x1bcec6=>{const _0x5eea32=_0x2b50da;_0x1bcec6['id']===_0x3e3608[_0x5eea32(0xc9)]['id']&&(_0x3e3608[_0x5eea32(0xc9)]=_0x1bcec6,console[_0x5eea32(0x8a)]('get\x20group\x20node',_0x1bcec6)),_0x1bcec6['id']===_0x3e3608[_0x5eea32(0xcf)]['id']&&(console[_0x5eea32(0x8a)]('get\x20top\x20node',_0x1bcec6),_0x3e3608[_0x5eea32(0xcf)]=_0x1bcec6),_0x1bcec6['id']===_0x3e3608[_0x5eea32(0x8e)]&&(console[_0x5eea32(0x8a)](_0x5eea32(0xf7),_0x1bcec6),_0x3e3608[_0x5eea32(0x8e)]=_0x1bcec6),_0x1bcec6['id']===_0x3e3608['leftChild']&&(console[_0x5eea32(0x8a)]('get\x20left\x20node',_0x1bcec6),_0x3e3608[_0x5eea32(0x108)]=_0x1bcec6),_0x1bcec6['id']===_0x3e3608[_0x5eea32(0x86)]&&(console['log'](_0x5eea32(0xcd),_0x1bcec6),_0x3e3608[_0x5eea32(0x86)]=_0x1bcec6);}),_0x3e3608['groupNode']['y']=_0x3e3608[_0x2b50da(0xcf)]['y']-0x14,_0x3e3608[_0x2b50da(0xc9)][_0x2b50da(0xf8)]=_0x3e3608[_0x2b50da(0x8e)]['y']+_0x3e3608[_0x2b50da(0x8e)][_0x2b50da(0xf8)]-_0x3e3608['groupNode']['y']+0x14,_0x3e3608['groupNode']['x']=_0x3e3608[_0x2b50da(0x108)]['x']-0x14,_0x3e3608['groupNode'][_0x2b50da(0xe6)]=_0x3e3608[_0x2b50da(0x86)]['x']+_0x3e3608[_0x2b50da(0x86)][_0x2b50da(0xe6)]-_0x3e3608[_0x2b50da(0xc9)]['x']+0x14,_0x3e3608[_0x2b50da(0xc9)][_0x2b50da(0x7b)]({'x':_0x3e3608[_0x2b50da(0xc9)]['x'],'y':_0x3e3608['groupNode']['y'],'width':_0x3e3608['groupNode'][_0x2b50da(0xe6)],'height':_0x3e3608['groupNode'][_0x2b50da(0xf8)]});});},getGroups=_0x5c87ef=>{const _0x2bfd54=_0xd6f108,_0x59588d=[];return _0x5c87ef[_0x2bfd54(0xce)][_0x2bfd54(0x95)](_0x34ad1d=>{const _0x107105=_0x2bfd54;if(_0x34ad1d[_0x107105(0xe1)]()['type']===_0x107105(0xec)){const _0x5e2491=_0x5c87ef[_0x107105(0xc4)](_0x34ad1d[_0x107105(0x94)]())[_0x107105(0x80)](_0x2a962c=>{return _0x2a962c['id']!==_0x34ad1d['id'];});console['log'](_0x107105(0xc7),_0x5e2491);const _0x57078e=_0x5e2491[_0x107105(0xb8)]((_0x127957,_0x45c9cf)=>{return _0x127957['y']<_0x45c9cf['y']?_0x127957:_0x45c9cf;}),_0x5b0e8e=_0x5e2491[_0x107105(0xb8)]((_0x53a43c,_0x9472a1)=>{const _0x1f7c98=_0x107105;return _0x53a43c['y']+_0x53a43c[_0x1f7c98(0xf8)]>_0x9472a1['y']+_0x9472a1[_0x1f7c98(0xf8)]?_0x53a43c:_0x9472a1;}),_0x4714e0=_0x5e2491['reduce']((_0x396fe2,_0x2422de)=>{return _0x396fe2['x']<_0x2422de['x']?_0x396fe2:_0x2422de;}),_0x3f43fb=_0x5e2491['reduce']((_0x2120fd,_0x1dbeca)=>{const _0x4b72d0=_0x107105;return _0x2120fd['x']+_0x2120fd[_0x4b72d0(0xe6)]>_0x1dbeca['x']+_0x1dbeca[_0x4b72d0(0xe6)]?_0x2120fd:_0x1dbeca;}),_0x205ebc={'groupNode':_0x34ad1d,'topChild':_0x57078e,'bottomChild':_0x5b0e8e,'leftChild':_0x4714e0,'rightChild':_0x3f43fb};_0x59588d[_0x107105(0xba)](_0x205ebc);}}),_0x59588d;},import_obsidian2=require('obsidian'),en_default={'createChildNode':_0xd6f108(0x98),'createSiblingNode':_0xd6f108(0xbc)},zh_cn_default={'createChildNode':_0xd6f108(0xc1),'createSiblingNode':'添加兄弟节点'},localeMap={'en':en_default,'zh-cn':zh_cn_default},locale=localeMap[import_obsidian2[_0xd6f108(0x85)][_0xd6f108(0xa6)]()];function t(_0x58fb5f){return locale&&locale[_0x58fb5f]||en_default[_0x58fb5f];}var CanvasMindMap=class extends import_obsidian3[_0xd6f108(0x9b)]{async[_0xd6f108(0xe0)](){const _0x171acb=_0xd6f108;this[_0x171acb(0xbf)](),this['patchMarkdownFileInfo'](),this[_0x171acb(0xee)]();}['onunload'](){}[_0xd6f108(0xbf)](){const _0x296bf5=_0xd6f108,_0x145407=async(_0x1734b5,_0xcda91f,_0x57a823)=>{const _0x5a09c4=_0x1524;var _0x2d49db;if((0x0,import_obsidian3['requireApiVersion'])(_0x5a09c4(0xff)))addEdge(_0x57a823,random(0x10),{'fromOrTo':'from','side':_0x5a09c4(0xf2),'node':_0x1734b5},{'fromOrTo':'to','side':_0x5a09c4(0x103),'node':_0xcda91f});else{const _0x1598f1=_0x57a823[_0x5a09c4(0x84)][_0x5a09c4(0xfd)]((_0x2d49db=_0x57a823['getData']()[_0x5a09c4(0x84)][_0x5a09c4(0xb7)]())==null?void 0x0:_0x2d49db['id']);if(_0x1598f1){const _0x1ae903=new _0x1598f1[(_0x5a09c4(0x7c))](_0x57a823,random(0x10),{'side':'right','node':_0x1734b5},{'side':'left','node':_0xcda91f});_0x57a823[_0x5a09c4(0xa0)](_0x1ae903),_0x1ae903[_0x5a09c4(0xaa)]();}else setTimeout(async()=>{const _0x3fbb45=_0x5a09c4,_0x3077c2=await this['app']['vault'][_0x3fbb45(0xe7)](_0x57a823['view']['file']),_0x2d84b5=JSON[_0x3fbb45(0x7e)](_0x3077c2);_0x2d84b5[_0x3fbb45(0x84)][_0x3fbb45(0xba)]({'id':random(0x10),'fromNode':_0x1734b5['id'],'fromSide':_0x3fbb45(0xf2),'toNode':_0xcda91f['id'],'toSide':_0x3fbb45(0x103)}),_0x2d84b5['nodes'][_0x3fbb45(0xba)]({'id':_0xcda91f['id'],'x':_0xcda91f['x'],'y':_0xcda91f['y'],'width':_0xcda91f[_0x3fbb45(0xe6)],'height':_0xcda91f[_0x3fbb45(0xf8)],'type':_0x3fbb45(0x10e),'text':_0xcda91f[_0x3fbb45(0x10e)]}),_0x57a823[_0x3fbb45(0xf0)](_0x2d84b5),_0x57a823[_0x3fbb45(0xad)]();},0x1f4);}},_0x25ba9f=(_0x5b6aa1,_0x2b4efc)=>{const _0x23ec71=_0x1524;console[_0x23ec71(0x8a)](_0x25ba9f);const _0x598b81=_0x5b6aa1[_0x23ec71(0x10c)];if(_0x598b81['size']!==0x1)return;const _0x38f28c=_0x598b81['values']()['next']()['value'],_0x3081ec=_0x5b6aa1['getViewportNodes'](),_0x3efe0c=_0x38f28c['x'],_0x3f4208=_0x38f28c['y'];_0x5b6aa1[_0x23ec71(0xdd)]();let _0x1c9139=null;if(_0x2b4efc===_0x23ec71(0xf5)){let _0x12d3e8=_0x3081ec[_0x23ec71(0x80)](_0x4f4891=>_0x4f4891['y']<_0x3f4208)[_0x23ec71(0x80)](_0x598dc3=>_0x598dc3['x']<_0x3efe0c+_0x38f28c[_0x23ec71(0xe6)]/0x2&&_0x598dc3['x']+_0x598dc3[_0x23ec71(0xe6)]>_0x3efe0c+_0x38f28c[_0x23ec71(0xe6)]/0x2);_0x12d3e8[_0x23ec71(0x89)]===0x0?_0x1c9139=_0x3081ec[_0x23ec71(0x80)](_0x167a9e=>_0x167a9e['y']<_0x3f4208)['sort']((_0x3cd225,_0x3d85a6)=>_0x3d85a6['y']-_0x3cd225['y'])['sort']((_0x3f3ab8,_0x1d1f31)=>_0x3f3ab8['x']-_0x1d1f31['x'])[0x0]:_0x1c9139=_0x12d3e8==null?void 0x0:_0x12d3e8['sort']((_0x1cb7b0,_0x4fb965)=>_0x4fb965['y']-_0x1cb7b0['y'])[0x0];}else{if(_0x2b4efc==='bottom'){let _0x8b7eab=_0x3081ec[_0x23ec71(0x80)](_0x3b0ee9=>_0x3b0ee9['y']>_0x3f4208)['filter'](_0x5aff94=>_0x5aff94['x']<_0x3efe0c+_0x38f28c[_0x23ec71(0xe6)]/0x2&&_0x5aff94['x']+_0x5aff94['width']>_0x3efe0c+_0x38f28c[_0x23ec71(0xe6)]/0x2);_0x8b7eab[_0x23ec71(0x89)]===0x0?_0x1c9139=_0x3081ec[_0x23ec71(0x80)](_0x25d009=>_0x25d009['y']>_0x3f4208)[_0x23ec71(0xe4)]((_0x3f3fb0,_0x25cf4b)=>_0x3f3fb0['y']-_0x25cf4b['y'])[_0x23ec71(0xe4)]((_0x5471a3,_0x5a252c)=>_0x5471a3['x']-_0x5a252c['x'])[0x0]:_0x1c9139=_0x8b7eab==null?void 0x0:_0x8b7eab['sort']((_0x318ec7,_0x31b329)=>_0x318ec7['y']-_0x31b329['y'])[0x0];}else{if(_0x2b4efc===_0x23ec71(0x103)){let _0x484a82=_0x3081ec[_0x23ec71(0x80)](_0x341a0c=>_0x341a0c['x']<_0x3efe0c)[_0x23ec71(0x80)](_0x1864f6=>_0x1864f6['y']<_0x3f4208+_0x38f28c[_0x23ec71(0xf8)]/0x2&&_0x1864f6['y']+_0x1864f6[_0x23ec71(0xf8)]>_0x3f4208+_0x38f28c['height']/0x2);_0x484a82['length']===0x0?_0x1c9139=_0x3081ec[_0x23ec71(0x80)](_0x39ba58=>_0x39ba58['x']<_0x3efe0c)['sort']((_0x1209b2,_0x430f52)=>_0x430f52['x']-_0x1209b2['x'])[_0x23ec71(0xe4)]((_0x16b8ae,_0xbd254d)=>_0x16b8ae['y']-_0xbd254d['y'])[0x0]:_0x1c9139=_0x484a82==null?void 0x0:_0x484a82[_0x23ec71(0xe4)]((_0x263916,_0x53fe74)=>_0x53fe74['x']-_0x263916['x'])[0x0];}else{if(_0x2b4efc===_0x23ec71(0xf2)){let _0x5ad196=_0x3081ec[_0x23ec71(0x80)](_0x3b829a=>_0x3b829a['x']>_0x3efe0c)[_0x23ec71(0x80)](_0x282ab7=>_0x282ab7['y']<_0x3f4208+_0x38f28c['height']/0x2&&_0x282ab7['y']+_0x282ab7[_0x23ec71(0xf8)]>_0x3f4208+_0x38f28c['height']/0x2);_0x5ad196[_0x23ec71(0x89)]===0x0?_0x1c9139=_0x3081ec[_0x23ec71(0x80)](_0x518d21=>_0x518d21['x']>_0x3efe0c)[_0x23ec71(0xe4)]((_0x469a2e,_0x4d7147)=>_0x469a2e['x']-_0x4d7147['x'])[_0x23ec71(0xe4)]((_0x36819d,_0x5a0569)=>_0x36819d['y']-_0x5a0569['y'])[0x0]:_0x1c9139=_0x5ad196==null?void 0x0:_0x5ad196['sort']((_0x457e82,_0x53a112)=>_0x457e82['x']-_0x53a112['x'])[0x0];}}}}return _0x1c9139&&(_0x5b6aa1[_0x23ec71(0x9f)](_0x1c9139),_0x5b6aa1[_0x23ec71(0x88)]()),_0x1c9139;},_0xa190f3=(_0xc989bb,_0xe950c)=>{const _0x32e82b=_0x1524;let _0x450945=_0xc989bb['selection'];if(_0x450945[_0x32e82b(0xe9)]!==0x1)return;let _0x4e1703=_0x450945['values']()[_0x32e82b(0x107)]()['value'],_0x567878=_0xe950c===_0x32e82b(0x103)?_0x4e1703['x']-_0x4e1703['width']-0x32:_0xe950c==='right'?_0x4e1703['x']+_0x4e1703[_0x32e82b(0xe6)]+0x32:_0x4e1703['x'],_0x1693a8=_0xe950c===_0x32e82b(0xf5)?_0x4e1703['y']-_0x4e1703[_0x32e82b(0xf8)]-0x64:_0xe950c===_0x32e82b(0xde)?_0x4e1703['y']+_0x4e1703['height']+0x64:_0x4e1703['y'];if((0x0,import_obsidian3[_0x32e82b(0x104)])(_0x32e82b(0xa2))){const _0x175fa9=_0xc989bb[_0x32e82b(0xdc)]({'pos':{'x':_0x567878,'y':_0x1693a8,'height':_0x4e1703[_0x32e82b(0xf8)],'width':_0x4e1703['width']},'size':{'x':_0x567878,'y':_0x1693a8,'height':_0x4e1703[_0x32e82b(0xf8)],'width':_0x4e1703[_0x32e82b(0xe6)]},'text':'','focus':!![],'save':!![]});return _0xc989bb[_0x32e82b(0x88)](),_0x175fa9;}else{const _0x2d567a=_0xc989bb[_0x32e82b(0xdc)]({'x':_0x567878,'y':_0x1693a8},{'height':_0x4e1703[_0x32e82b(0xf8)],'width':_0x4e1703['width']},!![]);return _0xc989bb[_0x32e82b(0x88)](),_0x2d567a;}},_0x17fa6c=async(_0x1261a2,_0x46b8cf,_0xed5ee2)=>{const _0x44d81f=_0x1524;let _0x33dbc6;const _0x2fcc12=0x3c,_0x3902ad=0xfa;return!(0x0,import_obsidian3[_0x44d81f(0x104)])(_0x44d81f(0xa2))?_0x33dbc6=_0x1261a2[_0x44d81f(0xdc)]({'x':_0x46b8cf['x']+_0x46b8cf['width']+0xc8,'y':_0xed5ee2},{'height':_0x2fcc12,'width':_0x3902ad},!![]):_0x33dbc6=_0x1261a2[_0x44d81f(0xdc)]({'pos':{'x':_0x46b8cf['x']+_0x46b8cf[_0x44d81f(0xe6)]+0xc8,'y':_0xed5ee2,'height':_0x2fcc12,'width':_0x3902ad},'size':{'x':_0x46b8cf['x']+_0x46b8cf['width']+0xc8,'y':_0xed5ee2,'height':_0x2fcc12,'width':_0x3902ad},'text':'','focus':![],'save':!![]}),_0x1261a2[_0x44d81f(0xdd)](),_0x1261a2[_0x44d81f(0x10f)](_0x33dbc6),await _0x145407(_0x46b8cf,_0x33dbc6,_0x1261a2),_0x1261a2[_0x44d81f(0xad)](),_0x33dbc6;},_0x5b0d36=_0x2c30dc=>{const _0x52ac2f=_0x1524;console['log'](_0x52ac2f(0x106));if(!_0x2c30dc)return;const _0x3262fc=_0x2c30dc[_0x52ac2f(0x10c)];if(_0x3262fc[_0x52ac2f(0xe9)]!==0x1)return;const _0x1c927f=_0x3262fc[_0x52ac2f(0xc2)]()['next']()[_0x52ac2f(0xac)][0x1];if(_0x1c927f[_0x52ac2f(0xa4)])return;_0x1c927f[_0x52ac2f(0x106)]();},_0x440ef0=async(_0x5237db,_0x3e7a6e)=>{const _0x20e502=_0x1524;var _0xf6140d,_0x397661;if(_0x5237db[_0x20e502(0x10c)][_0x20e502(0xe9)]!==0x1)return;const _0xdcf668=_0x5237db[_0x20e502(0x10c)][_0x20e502(0xc2)]()[_0x20e502(0x107)]()[_0x20e502(0xac)][0x1];if(_0xdcf668[_0x20e502(0xa4)]&&_0x3e7a6e){console[_0x20e502(0x8a)](_0x20e502(0x8c));return;}let _0x38a1ad=_0x5237db[_0x20e502(0xd8)](_0xdcf668)[_0x20e502(0x80)](_0x463629=>{const _0x480800=_0x20e502;return _0x463629[_0x480800(0xb6)][_0x480800(0x10a)]['id']===_0xdcf668['id']&&_0x463629['to']['side']===_0x480800(0x103);}),_0x5d46c8;if(_0x38a1ad[_0x20e502(0x89)]===0x0)_0x5d46c8=await _0x17fa6c(_0x5237db,_0xdcf668,_0xdcf668['y']);else{let _0x287669=[];for(let _0x57c660=0x0;_0x57c660<(_0x38a1ad==null?void 0x0:_0x38a1ad['length']);_0x57c660++){let _0x49cc80=_0x38a1ad[_0x57c660]['to']['node'];_0x287669[_0x20e502(0xba)](_0x49cc80);}_0x287669[_0x20e502(0x89)]>0x1&&_0x287669['sort']((_0x293b33,_0x3a6023)=>{return _0x293b33['y']-_0x3a6023['y'];});const _0x2ca715=((_0xf6140d=_0x287669[_0x287669[_0x20e502(0x89)]-0x1])==null?void 0x0:_0xf6140d['y'])+((_0x397661=_0x287669[_0x287669[_0x20e502(0x89)]-0x1])==null?void 0x0:_0x397661[_0x20e502(0xf8)])+0x14;_0x5d46c8=await _0x17fa6c(_0x5237db,_0xdcf668,_0x2ca715),_0x287669['push'](_0x5d46c8),_0x287669['sort']((_0x309688,_0x2cefb2)=>{return _0x309688['y']-_0x2cefb2['y'];});if(_0x287669[_0x20e502(0x89)]===0x1)return;adjustTreeY(_0x40f8ee(_0xdcf668,_0x5237db),_0x5237db);}return _0x5d46c8;},_0x40f8ee=(_0x2827e9,_0xabaed)=>{const _0x2e4beb=_0x1524;let _0x503845=_0xabaed[_0x2e4beb(0xd8)](_0x2827e9)[_0x2e4beb(0x80)](_0x250ece=>{const _0x57814d=_0x2e4beb;return _0x250ece['to'][_0x57814d(0x10a)]['id']===_0x2827e9['id']&&_0x250ece[_0x57814d(0xb6)][_0x57814d(0xef)]===_0x57814d(0xf2);});if(_0x503845[_0x2e4beb(0x89)]==0x0)return _0x2827e9;let _0x4be793=_0x503845[0x0][_0x2e4beb(0xb6)][_0x2e4beb(0x10a)];return _0x40f8ee(_0x4be793,_0xabaed);},_0xb3cbc8=async(_0x28ec85,_0x1a0acf)=>{const _0x2f1822=_0x1524;if(_0x28ec85[_0x2f1822(0x10c)][_0x2f1822(0xe9)]!==0x1){console['log'](_0x2f1822(0xed));return;}const _0x2400e7=_0x28ec85[_0x2f1822(0x10c)][_0x2f1822(0xc2)]()[_0x2f1822(0x107)]()[_0x2f1822(0xac)][0x1];if(_0x2400e7['isEditing']&&_0x1a0acf){console['log'](_0x2f1822(0x8c));return;}const _0x290a4e=_0x28ec85[_0x2f1822(0xd8)](_0x2400e7)[_0x2f1822(0x80)](_0x5b0f6a=>{const _0x131c6a=_0x2f1822;return _0x5b0f6a['to'][_0x131c6a(0x10a)]['id']===_0x2400e7['id'];});if(_0x290a4e[_0x2f1822(0x89)]===0x0)return;const _0x1b7780=_0x290a4e[0x0][_0x2f1822(0xb6)][_0x2f1822(0x10a)],_0xccbb2e=_0x2400e7['y']+_0x2400e7[_0x2f1822(0xf8)]/0x2+0x6e,_0x180c85=await _0x17fa6c(_0x28ec85,_0x1b7780,_0xccbb2e);return adjustTreeY(_0x40f8ee(_0x1b7780,_0x28ec85),_0x28ec85),_0x180c85;},_0x473b60=()=>{const _0x14d36f=_0x1524;var _0x41a69b;console[_0x14d36f(0x8a)]('patchCanvas');const _0x43bee7=(_0x41a69b=app[_0x14d36f(0x7f)][_0x14d36f(0x8d)](_0x14d36f(0xda))[_0x14d36f(0xb7)]())==null?void 0x0:_0x41a69b[_0x14d36f(0xf6)],_0x2d57fb=_0x43bee7==null?void 0x0:_0x43bee7[_0x14d36f(0xda)];if(!_0x43bee7)return![];const _0x15bc41=_0x2d57fb[_0x14d36f(0x7c)],_0x3f656e=around(_0x43bee7[_0x14d36f(0x7c)][_0x14d36f(0xb4)],{'onOpen':_0x357a38=>async function(){const _0x686d89=_0x14d36f;return console[_0x686d89(0x8a)](_0x686d89(0x10b)),this[_0x686d89(0x79)][_0x686d89(0xa3)](['Mod'],'ArrowUp',()=>{const _0x11ed07=_0x686d89;_0xa190f3(this[_0x11ed07(0xda)],_0x11ed07(0xf5));}),this['scope'][_0x686d89(0xa3)](['Mod'],_0x686d89(0x99),()=>{const _0x44bb12=_0x686d89;_0xa190f3(this[_0x44bb12(0xda)],_0x44bb12(0xde));}),this['scope']['register']([_0x686d89(0xc3)],_0x686d89(0xfc),()=>{const _0x32ce9f=_0x686d89;_0xa190f3(this[_0x32ce9f(0xda)],_0x32ce9f(0x103));}),this['scope'][_0x686d89(0xa3)]([_0x686d89(0xc3)],'ArrowRight',()=>{const _0x100bfa=_0x686d89;_0xa190f3(this[_0x100bfa(0xda)],_0x100bfa(0xf2));}),this[_0x686d89(0x79)][_0x686d89(0xa3)](['Alt'],'ArrowUp',()=>{const _0x4e8490=_0x686d89;_0x25ba9f(this[_0x4e8490(0xda)],'top');}),this['scope'][_0x686d89(0xa3)](['Alt'],_0x686d89(0x99),()=>{const _0x4d92dc=_0x686d89;_0x25ba9f(this[_0x4d92dc(0xda)],_0x4d92dc(0xde));}),this[_0x686d89(0x79)][_0x686d89(0xa3)]([_0x686d89(0x78)],_0x686d89(0xfc),()=>{const _0x3b76e7=_0x686d89;_0x25ba9f(this[_0x3b76e7(0xda)],_0x3b76e7(0x103));}),this['scope'][_0x686d89(0xa3)](['Alt'],_0x686d89(0xd5),()=>{const _0x530e16=_0x686d89;_0x25ba9f(this[_0x530e16(0xda)],_0x530e16(0xf2));}),this[_0x686d89(0x79)][_0x686d89(0xa3)]([],_0x686d89(0x9e),async()=>{const _0x4596e8=_0x686d89,_0x103ac0=await _0xb3cbc8(this[_0x4596e8(0xda)],!![]);if(!_0x103ac0)return;setTimeout(()=>{const _0x4156ad=_0x4596e8;_0x103ac0[_0x4156ad(0x106)](),this['canvas']['zoomToSelection']();},0x0);}),this[_0x686d89(0x79)][_0x686d89(0xa3)]([],_0x686d89(0x112),async()=>{const _0x110d77=_0x686d89,_0x342811=await _0x440ef0(this[_0x110d77(0xda)],!![]);if(!_0x342811)return;setTimeout(()=>{const _0x818638=_0x110d77;_0x342811[_0x818638(0x106)](),this[_0x818638(0xda)][_0x818638(0x88)]();},0x0);}),_0x357a38[_0x686d89(0xd4)](this);},'onClose':_0x450764=>async function(){const _0x54d905=_0x14d36f;return console[_0x54d905(0x8a)](_0x54d905(0xf9)),_0x450764[_0x54d905(0xd4)](this);},'onPaneMenu':_0x35dac9=>async function(){const _0x597f20=_0x14d36f;return console[_0x597f20(0x8a)](_0x597f20(0xb5)),_0x35dac9['call'](this);},'OnResize':_0x573c58=>async function(){const _0x26af8d=_0x14d36f;return console[_0x26af8d(0x8a)](_0x26af8d(0xab)),_0x573c58[_0x26af8d(0xd4)](this);}}),_0x97eb2=around(_0x15bc41[_0x14d36f(0xb4)],{'onContextMenu':_0x143bc0=>async function(_0x85ae0e){const _0x3c3e76=_0x14d36f;return console[_0x3c3e76(0x8a)](_0x3c3e76(0x111)),_0x143bc0['call'](this,_0x85ae0e);},'onDoubleClick':_0x42ae8e=>async function(_0x3c400c){const _0x5b7897=_0x14d36f;return console[_0x5b7897(0x8a)](_0x5b7897(0xd1)),_0x42ae8e[_0x5b7897(0xd4)](this,_0x3c400c);},'onKeydown':_0x5278d1=>async function(_0xddaa77){const _0x2a8c4b=_0x14d36f;console[_0x2a8c4b(0x8a)]('onKeydown');if(_0xddaa77[_0x2a8c4b(0xd9)]===_0x2a8c4b(0xb1)||_0xddaa77[_0x2a8c4b(0xd9)]===_0x2a8c4b(0xb0)){console[_0x2a8c4b(0x8a)](_0x2a8c4b(0xb0));if(this[_0x2a8c4b(0x10c)]['size']!==0x1)return console['log'](_0x2a8c4b(0xa8)),_0x5278d1[_0x2a8c4b(0xd4)](this,_0xddaa77);const _0x33fb02=this[_0x2a8c4b(0x10c)]['entries']()[_0x2a8c4b(0x107)]()['value'][0x1];if(_0x33fb02[_0x2a8c4b(0xa4)]){console['log'](_0x2a8c4b(0x90));return;}console[_0x2a8c4b(0x8a)]('adjust'),adjustTreeY(_0x40f8ee(_0x33fb02,_0x2d57fb),_0x2d57fb),_0x5278d1['call'](this,_0xddaa77);return;}if(_0xddaa77['key']==='\x20'){const _0x20402c=this[_0x2a8c4b(0x10c)];if(_0x20402c['size']!==0x1)return;const _0x24d365=_0x20402c['entries']()[_0x2a8c4b(0x107)]()[_0x2a8c4b(0xac)][0x1];if((_0x24d365==null?void 0x0:_0x24d365['label'])||(_0x24d365==null?void 0x0:_0x24d365['url']))return;if(_0x24d365[_0x2a8c4b(0xa4)])return;_0x24d365[_0x2a8c4b(0x106)]();}_0x5278d1[_0x2a8c4b(0xd4)](this,_0xddaa77);},'onSelectionContextMenu':_0x53103d=>async function(_0x3a7c5d){const _0x2dd27d=_0x14d36f;return console[_0x2dd27d(0x8a)](_0x2dd27d(0x109)),_0x53103d[_0x2dd27d(0xd4)](this,_0x3a7c5d);},'onResize':_0x35240d=>async function(_0x53002e){const _0x82d383=_0x14d36f;return console[_0x82d383(0x8a)]('onResize'),_0x35240d[_0x82d383(0xd4)](this,_0x53002e);},'onTouchdown':_0x27f2fa=>async function(_0x2bbad5){const _0x164a4d=_0x14d36f;return console[_0x164a4d(0x8a)](_0x164a4d(0x91)),_0x27f2fa[_0x164a4d(0xd4)](this,_0x2bbad5);},'onWheel':_0x5bc559=>async function(_0x279cb2){const _0x3566b2=_0x14d36f;return console['log'](_0x3566b2(0x7a)),_0x5bc559['call'](this,_0x279cb2);},'onPointerdown':_0x232fd1=>async function(_0x570cc0){const _0x1678fe=_0x14d36f;return console[_0x1678fe(0x8a)](_0x1678fe(0xbe)),setTimeout(()=>{const _0x26a43c=_0x1678fe,_0x141e6c=document[_0x26a43c(0xe5)](_0x26a43c(0xf3));if(_0x141e6c!==null){console[_0x26a43c(0x8a)]('canvasMenun',_0x141e6c);if(!_0x141e6c[_0x26a43c(0xe5)](_0x26a43c(0x83)+t(_0x26a43c(0x113))+'\x22]')){const _0x1a15f7=document[_0x26a43c(0x97)]('button');_0x1a15f7[_0x26a43c(0x110)]=_0x26a43c(0xae),_0x1a15f7['setAttribute'](_0x26a43c(0x81),t(_0x26a43c(0x113))),_0x1a15f7[_0x26a43c(0x92)]('data-tooltip-position','top'),this[_0x26a43c(0x100)][_0x26a43c(0xd7)]()==='moonstone'?_0x1a15f7[_0x26a43c(0xa7)]=_0x26a43c(0xd0):_0x1a15f7[_0x26a43c(0xa7)]=_0x26a43c(0xdf),_0x1a15f7[_0x26a43c(0xb2)](_0x26a43c(0xca),async()=>{const _0x6e9f76=await _0x440ef0(this,![]);if(!_0x6e9f76)return;setTimeout(()=>{const _0x248081=_0x1524;_0x6e9f76[_0x248081(0x106)](),this[_0x248081(0x88)]();},0x0);}),_0x141e6c['appendChild'](_0x1a15f7);}if(!_0x141e6c[_0x26a43c(0xe5)](_0x26a43c(0x83)+t(_0x26a43c(0x101))+'\x22]')){const _0x2682e8=document[_0x26a43c(0x97)]('button');_0x2682e8['className']='clickable-icon',_0x2682e8[_0x26a43c(0x92)](_0x26a43c(0x81),t(_0x26a43c(0x101))),_0x2682e8['setAttribute'](_0x26a43c(0xeb),_0x26a43c(0xf5)),this[_0x26a43c(0x100)][_0x26a43c(0xd7)]()===_0x26a43c(0x9d)?_0x2682e8[_0x26a43c(0xa7)]=_0x26a43c(0x82):_0x2682e8['innerHTML']=_0x26a43c(0xc5),console[_0x26a43c(0x8a)](import_obsidian3['moment'][_0x26a43c(0xa6)]()),_0x2682e8['addEventListener'](_0x26a43c(0xca),async()=>{const _0x57a741=_0x26a43c,_0x52c708=await _0xb3cbc8(this,![]);if(!_0x52c708){console['log'](_0x57a741(0xc6));return;}setTimeout(()=>{const _0x3ed660=_0x57a741;_0x52c708[_0x3ed660(0x106)](),this['zoomToSelection']();},0x0);}),_0x141e6c[_0x26a43c(0x87)](_0x2682e8);}}},0x96),_0x232fd1['call'](this,_0x570cc0);}});return this[_0x14d36f(0xa3)](_0x97eb2),this[_0x14d36f(0xa3)](_0x3f656e),_0x2d57fb==null?void 0x0:_0x2d57fb[_0x14d36f(0xf6)]['leaf'][_0x14d36f(0xfa)](),console[_0x14d36f(0x8a)]('Obsidian-Canvas-MindMap:\x20canvas\x20view\x20patched'),!![];};this[_0x296bf5(0x100)][_0x296bf5(0x7f)][_0x296bf5(0x7d)](()=>{const _0x1908c3=_0x296bf5;if(!_0x473b60()){const _0x2b1fc8=app[_0x1908c3(0x7f)]['on']('layout-change',()=>{const _0x4661a6=_0x1908c3;_0x473b60()&&app[_0x4661a6(0x7f)][_0x4661a6(0xcc)](_0x2b1fc8);});this[_0x1908c3(0xc8)](_0x2b1fc8);}});}[_0xd6f108(0xee)](){const _0x16fcba=_0xd6f108,_0x3a2b38=()=>{const _0x543d96=_0x1524;var _0x45ddc1;const _0x1f689f=(_0x45ddc1=app['workspace'][_0x543d96(0x8d)]('canvas')[_0x543d96(0xb7)]())==null?void 0x0:_0x45ddc1[_0x543d96(0xf6)],_0x1c0e0b=_0x1f689f==null?void 0x0:_0x1f689f[_0x543d96(0xda)];if(!_0x1c0e0b)return![];const _0x426aaa=Array['from'](_0x1c0e0b['nodes'])['first']();if(!_0x426aaa)return![];const _0x1acd93=_0x426aaa[0x1],_0x2911ca=around(_0x1acd93[_0x543d96(0x7c)][_0x543d96(0xb4)],{'setColor':_0x596aec=>function(_0x2c55e8,_0xfbe3d1){const _0x533c2b=_0x543d96;_0x596aec[_0x533c2b(0xd4)](this,_0x2c55e8,_0xfbe3d1),this[_0x533c2b(0xda)][_0x533c2b(0xd8)](this)[_0x533c2b(0x95)](_0x4d39cd=>{const _0x461bfc=_0x533c2b;_0x4d39cd[_0x461bfc(0xb6)]['node']===this&&(_0x4d39cd['setColor'](_0x2c55e8,!![]),_0x4d39cd[_0x461bfc(0xaa)]());}),_0x1c0e0b[_0x533c2b(0xad)]();}});return this['register'](_0x2911ca),console['log']('Obsidian-Canvas-MindMap:\x20canvas\x20node\x20patched'),!![];};this[_0x16fcba(0x100)]['workspace']['onLayoutReady'](()=>{const _0x5666c8=_0x16fcba;if(!_0x3a2b38()){const _0x32bc11=app[_0x5666c8(0x7f)]['on'](_0x5666c8(0xd3),()=>{const _0x5e3d58=_0x5666c8;_0x3a2b38()&&app[_0x5e3d58(0x7f)][_0x5e3d58(0xcc)](_0x32bc11);});this[_0x5666c8(0xc8)](_0x32bc11);}});}['patchMarkdownFileInfo'](){const _0x876391=_0xd6f108,_0x5135c2=()=>{const _0xf8230d=_0x1524,_0x240f2b=app[_0xf8230d(0x7f)]['activeEditor'];if(!_0x240f2b)return![];const _0x1b649=_0x240f2b[_0xf8230d(0x7c)],_0x594b6d=around(_0x1b649['prototype'],{'showPreview':_0x5ca6b8=>function(_0x38c60d){const _0x385d9c=_0xf8230d;var _0xda0899;_0x5ca6b8[_0x385d9c(0xd4)](this,_0x38c60d),_0x38c60d&&(this[_0x385d9c(0x10a)][_0x385d9c(0xda)][_0x385d9c(0xfe)]['focus'](),(_0xda0899=this[_0x385d9c(0x10a)])==null?void 0x0:_0xda0899[_0x385d9c(0x96)](![]));}});return this[_0xf8230d(0xa3)](_0x594b6d),console[_0xf8230d(0x8a)](_0xf8230d(0x10d)),!![];};this[_0x876391(0x100)]['workspace'][_0x876391(0x7d)](()=>{const _0xfe3c32=_0x876391;if(!_0x5135c2()){const _0x4ffed7=app['workspace']['on'](_0xfe3c32(0xc0),()=>{setTimeout(()=>{const _0x3f5027=_0x1524;_0x5135c2()&&app[_0x3f5027(0x7f)]['offref'](_0x4ffed7);},0x64);});this['registerEvent'](_0x4ffed7);}});}};